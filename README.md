# Построение ЧУС
Модуль реализует открытие и разметку файлов камеры спектрометра.
_Необходим модуль seaborn для отображения heatmap_

## Работа с файлами конфигурации
_При изменении пути к модулю необходимо изменить переменные "address..."_

Модуль создает файл (указан в "address_") для запоминания последней открытой директории через "ask_" и папки с фильтрами. Файлы фильтра это .txt с двумя столбцами <длина_волны, нм> + <коэфициент_пропускания>, где используется точка для разделения float (123.45). В папках с файлами кадров камеры спектрометра сохраняются файлы с именем "spectrograph ... .pkl" в которых содержится информация о выбранной решетке и прочих деталях режима, использованного в этих измерениях.

Введенные параметры можно сохранить в папке файла при помощи команды "save_parameters". Далее они будут загружаться при каждом обращении к файлам этой папки. Для учета нового фильтра можно ввести его имя как аргумент "list_add_filter" или через графическое окно "ask_add_filter". При помощи "print_filters" можно узнать о фильтрах, которые уже учтены. Для удаления используйте "list_rem_filter", который принимает номер из вывода "print_filters". Спектр поглощения камеры и решеток учитывать не надо, он добавляется в расчет автоматически на этапе построения графика.

## Работа с данными
О способах открытия нового файла и изменения параметров смотри справку к DesktopScripts/spectrograph, который реализует наиболее удобный из них. Под _параметрами_ здесь подразумеваются указанные в названии папки настройки спектрографа. 

Для построения спектра вызовите "plot". Обновление данных происходит при открытии нового графика при помощи функции "plot". Перед этим предыдущий график необходимо закрыть. Сохранение спектра доступно как через графический, так и консольный интерфейс.

Возможны задержки открытия файла по CTRL-C при построенном графике (идет закрытие окон). Для ускорения процесса нажмите ENTER или используйте команду exit

Фон вычисляется как значение пикселя с координатой [1;1]. Отрицательные значения зануляются.
